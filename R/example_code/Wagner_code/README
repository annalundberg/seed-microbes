#### READ ME #### 

############ R code for: Wagner et al. 2016, Nat Comm ############

####### The R code for this analysis is compartmentalized into 13 sections:

## main_code.R = begin with this script, which conserves the order in which the others should be executed (because some parts of the analysis depend on intermediate data files generated by others)

## ecotypes_source.R = source code to load necessary packages, define color palettes, define various auxiliary functions

## foldchange.R = estimating enrichment/depletion of individual taxa using negative binomial models

## GLS.R = partitioning variance in glucosinolate profiles (for supplementary discussion 1)

## heritability.R = estimating broad-sense heritability of individual taxa

## populate_vstLMM.R = auxiliary code for executing heritability.R on computing cluster

## countmodels_vstLMM.R = auxiliary code for executing heritability.R on computing cluster

## higher_tax_levels.R = obtaining counts of higher taxonomic levels (families, orders, classes, phyla) from the raw OTU table

## LMMs.R = linear mixed models to partition variance in alpha & beta diversity metrics

## uUF.R = parallel analysis to LMMs.R, using unweighted UniFrac instead of weighted UniFrac distances

## otu99pct.R = analysis of OTUs binned at 99% to assess overlap between leaves and roots

## rel_abund.R = calculate relative abundance of each taxon in various subsets of data

## succession.R  = comparing field data to greenhouse data and assessing evidence for community turnover after transplant

####### Recommended use: create an R project with all of the above scripts & all raw data files (the rest of the Dryad package) in a single working directory. Begin executing main_code.R . The first sections of main_code.R create subdirectories for each section of code, and to store the raw data, intermediate data, and output tables and plots. #######
